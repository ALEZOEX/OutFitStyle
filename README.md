```markdown
# üëî OutfitStyle

–£–º–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –æ–¥–µ–∂–¥—ã —Å ML‚Äë–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```text
outfitstyle/
‚îú‚îÄ‚îÄ client/                  # Flutter‚Äë–∫–ª–∏–µ–Ω—Ç (iOS/Android/Web)
‚îú‚îÄ‚îÄ server/                  # Go REST API (–ø–æ—Ä—Ç 8080)
‚îÇ   ‚îú‚îÄ‚îÄ cmd/                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ internal/            # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/             # HTTP‚Äë—Å–ª–æ–π (middleware, handlers)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/            # –ë–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞ (domain, services)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/  # –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ë–î, HTTP‚Äë–∫–ª–∏–µ–Ω—Ç—ã)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pkg/             # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ database/            # init.sql –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ migrations/          # SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ scripts/             # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ .env.example         # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ Makefile             # –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ go.mod               # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go
‚îÇ   ‚îî‚îÄ‚îÄ go.sum               # –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ server/ml-service/       # Python ML‚Äë—Å–µ—Ä–≤–∏—Å (–ø–æ—Ä—Ç 5000)
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Flask‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ model/               # –ú–æ–¥–µ–ª—å, —Ñ–∏—á–∏, –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ enhanced_predictor.py    # –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features.py              # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∏—á–µ–π, –≤–∫–ª—é—á–∞—è source –∏ is_owned
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                     # –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ML
‚îÇ   ‚îú‚îÄ‚îÄ models/              # –û–±—É—á–µ–Ω–Ω—ã–µ .pkl‚Äë–º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ data/                # –î–∞—Ç–∞—Å–µ—Ç—ã (styles.csv –∏ –ø—Ä.)
‚îÇ   ‚îî‚îÄ‚îÄ scripts/             # –°–∫—Ä–∏–ø—Ç—ã –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ server/marketplace-service/  # Flask‚Äë—Å–µ—Ä–≤–∏—Å –∫–∞—Ç–∞–ª–æ–≥–∞ (–ø–æ—Ä—Ç 5002)
‚îú‚îÄ‚îÄ scripts/                 # –í–Ω–µ—à–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, import_kaggle_styles.py)
‚îú‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ README.md            # –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ architecture.md      # –û–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ import_guide.md      # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–º–ø–æ—Ä—Ç—É –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ professional_architecture.md  # –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ api/                 # API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ README.md        # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îú‚îÄ‚îÄ .github/                 # –®–∞–±–ª–æ–Ω—ã –¥–ª—è GitHub
‚îî‚îÄ‚îÄ docker-compose.yml       # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

---

## üöÄ –ó–∞–ø—É—Å–∫

### –ß–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
docker compose up --build

# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker compose up -d --build
```

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã:

- API‚Äë—Å–µ—Ä–≤–µ—Ä: `http://localhost:8080`
- ML‚Äë—Å–µ—Ä–≤–∏—Å: `http://localhost:5000`
- Marketplace‚Äë—Å–µ—Ä–≤–∏—Å: `http://localhost:5002`
- PostgreSQL: `localhost:5432`
- Redis: `localhost:6379`

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
curl http://localhost:8080/health
curl http://localhost:5000/health
curl http://localhost:5002/health
```

---

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ docker compose)

#### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)

```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ Postgres —á–µ—Ä–µ–∑ docker compose
docker compose up -d postgres

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (—Å–Ω–∞—á–∞–ª–∞ 001, –ø–æ—Ç–æ–º 002, –ø–æ—Ç–æ–º 003)
psql -h localhost -U Admin -d outfitstyle -f server/migrations/001_initial_schema.up.sql
psql -h localhost -U Admin -d outfitstyle -f server/migrations/002_expand_clothing_schema.up.sql
psql -h localhost -U Admin -d outfitstyle -f server/migrations/003_add_ml_attributes.up.sql
```

#### 2. –ò–º–ø–æ—Ä—Ç Kaggle –¥–∞—Ç–∞—Å–µ—Ç–∞ (–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
cd scripts
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ –∏–º–ø–æ—Ä—Ç–∞
python import_kaggle_styles.py
```

#### 3. API (Go)

```bash
cd server
cp .env.example .env     # –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
make run                 # –∏–ª–∏ go run ./cmd/server
```

#### 4. ML‚Äë—Å–µ—Ä–≤–∏—Å (Python)

```bash
cd server/ml-service
pip install -r requirements.txt
python main.py           # –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –Ω–∞ http://localhost:5000
```

#### 5. Marketplace‚Äë—Å–µ—Ä–≤–∏—Å (Python)

```bash
cd server/marketplace-service
pip install -r requirements.txt
python main.py           # –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –Ω–∞ http://localhost:5002
```

#### 6. –ö–ª–∏–µ–Ω—Ç (Flutter)

```bash
cd client
flutter pub get
flutter run              # —ç–º—É–ª—è—Ç–æ—Ä Android/iOS –∏–ª–∏ Web
```

> –î–ª—è Android‚Äë—ç–º—É–ª—è—Ç–æ—Ä–∞ backend –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `http://10.0.2.2:8080`
> (–≤ –∫–æ–¥–µ –∫–ª–∏–µ–Ω—Ç–∞ —ç—Ç–æ —É–∂–µ —É—á—Ç–µ–Ω–æ —á–µ—Ä–µ–∑ AppConfig).

---

## üìö –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend

- **Go 1.21+** ‚Äì –æ—Å–Ω–æ–≤–Ω–æ–π REST API
- **Python 3.9+/3.11** ‚Äì ML‚Äë—Å–µ—Ä–≤–∏—Å
- **PostgreSQL 15** ‚Äì –æ—Å–Ω–æ–≤–Ω–∞—è –ë–î
- **Redis 7** ‚Äì –∫—ç—à –∏ rate limiting
- **Docker / Docker Compose** ‚Äì –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Kubernetes** ‚Äì –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
- **Prometheus** ‚Äì –º–µ—Ç—Ä–∏–∫–∏
- **Gorilla Mux** ‚Äì –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ Go
- **JWT** ‚Äì –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### Frontend

- **Flutter 3.x** ‚Äì –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç:
    - Android
    - iOS
    - Web

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—á–∏

- üå§ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω–æ–π –ø–æ–≥–æ–¥–æ–π (OpenWeatherMap)
- ü§ñ ML‚Äë–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:
    - Professional approach: Unified catalog ‚Üí Retrieval ‚Üí Ranking
    - Gradient Boosting (–æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º)
    - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: wardrobe ‚Üí catalog ‚Üí kaggle_seed
    - —Ä–µ–∑–µ—Ä–≤–Ω–∞—è rule‚Äëbased –ª–æ–≥–∏–∫–∞, –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
    - –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω,
    - —Å—Ç–∏–ª—å (casual/formal/‚Ä¶),
    - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ö–æ–ª–æ–¥—É.
- üëî –õ–∏—á–Ω—ã–π –≥–∞—Ä–¥–µ—Ä–æ–±:
    - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—â–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `clothing_items`,
    - —É—á—ë—Ç –≥–∞—Ä–¥–µ—Ä–æ–±–∞ –ø—Ä–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º.
- üõí –ö–∞—Ç–∞–ª–æ–≥ (–ø—Å–µ–≤–¥–æ‚Äë–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å):
    - –∏–º–ø–æ—Ä—Ç –æ–¥–µ–∂–¥—ã –∏–∑ Kaggle‚Äë–¥–∞—Ç–∞—Å–µ—Ç–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥ –∫–∞–∫ `source='kaggle_seed'`,
    - —Å–º–µ—à–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π: –≥–∞—Ä–¥–µ—Ä–æ–± + –∫–∞—Ç–∞–ª–æ–≥ + –¥–∞—Ç–∞—Å–µ—Ç.
- üìä –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏ –æ—Ü–µ–Ω–æ–∫:
    - `recommendations` / `recommendation_items`,
    - `user_ratings` / –∏–∑–±—Ä–∞–Ω–Ω–æ–µ.
- üìà –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –æ—Ç–∑—ã–≤–∞—Ö:
    - ML‚Äë—Å–µ—Ä–≤–∏—Å —É–º–µ–µ—Ç –ø–µ—Ä–µ–æ–±—É—á–∞—Ç—å—Å—è –Ω–∞ –ª–æ–≥–∞—Ö.
- üîê JWT‚Äë–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Go‚Äë—Å–µ—Ä–≤–µ—Ä).
- üõ° Rate limiting, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–µ—Ç—Ä–∏–∫–∏ Prometheus.
- üê≥ –ü–æ–ª–Ω–∞—è Docker‚Äë–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è dev/prod.

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞)

- `users` ‚Äì –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `user_profiles` ‚Äì ML‚Äë–ø—Ä–æ—Ñ–∏–ª–∏ (gender, age_range, style_preference, temperature_sensitivity –∏ –¥—Ä.)
- `user_stats` ‚Äì –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `clothing_items` ‚Äì –ø—Ä–µ–¥–º–µ—Ç—ã –æ–¥–µ–∂–¥—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏:
    - –∏ –≥–∞—Ä–¥–µ—Ä–æ–± (`user_id = ...`, `is_owned = true`, `source = 'wardrobe'`),
    - –∏ –æ–±—â–∏–π –∫–∞—Ç–∞–ª–æ–≥ (`source = 'catalog'`),
    - –∏ Kaggle –¥–∞—Ç–∞—Å–µ—Ç (`source = 'kaggle_seed'`)
    - `gender`, `master_category`, `subcategory`, `season`, `base_colour`, `usage`
    - `min_temp`, `max_temp`, `warmth_level`, `formality_level`
- `wardrobe_items` ‚Äì —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏—Ö –≤–µ—â–∞–º–∏
- `recommendations` ‚Äì —Ñ–∞–∫—Ç—ã –≤—ã–¥–∞—á–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- `recommendation_items` ‚Äì –≤–µ—â–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- `favorite_outfits` ‚Äì –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- `achievements`, `user_achievements` ‚Äì –∞—á–∏–≤–∫–∏
- `user_ratings` ‚Äì –æ—Ü–µ–Ω–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- `outfit_plans` ‚Äì –ø–ª–∞–Ω—ã –æ–±—Ä–∞–∑–æ–≤ –ø–æ –¥–∞—Ç–∞–º

–°—Ö–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ `server/migrations/`.

---

## üß† ML‚Äë—Å–µ—Ä–≤–∏—Å (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)

### –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Retrieval ‚Üí Ranking

#### 1. Retrieval (–ø–æ–¥–±–æ—Ä –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤)
- –°–Ω–∞—á–∞–ª–∞ –∏—â—É—Ç—Å—è –≤–µ—â–∏ –∏–∑ –ª–∏—á–Ω–æ–≥–æ –≥–∞—Ä–¥–µ—Ä–æ–±–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ó–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤–µ—â–∏ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –¥–ª—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ù–∞–∫–æ–Ω–µ—Ü, –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è "–æ–±—Ä–∞–∑—Ü–æ–≤—ã–µ" –≤–µ—â–∏ –∏–∑ Kaggle-–¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è
- –í—Å—ë —á–µ—Ä–µ–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –∫ `clothing_items`

#### 2. Ranking (—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ML-–º–æ–¥–µ–ª—å —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
    - +Œ± –∫ score, –µ—Å–ª–∏ `is_owned = True` –∏ –≤–µ—â—å –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ –ø–æ–≥–æ–¥–µ (–ª–∏—á–Ω—ã–µ –≤–µ—â–∏)
    - —á—É—Ç—å –º–µ–Ω—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è catalog –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å wardrobe
    - Kaggle_seed ‚Äî –±–∞–∑–æ–≤–∞—è –ª–∏–Ω–∏—è (0)
- –ë–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ `is_owned` –∏ one-hot –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ `source` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ —Ñ–∏—á–∏
- –ú–æ–¥–µ–ª—å —Ä–∞–Ω–∂–∏—Ä—É–µ—Ç –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã (–¥–æ 1000, –∞ –Ω–µ 44k)

#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ `/api/ml/recommend`:
    - `user_id`, –ø–æ–≥–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ `source` (`wardrobe` / `catalog` / `mixed`);
- –ø–æ–¥–Ω–∏–º–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ `user_profiles`;
- –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ Retrieval (–∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –∏–∑ CSV!)
- –≥–æ—Ç–æ–≤–∏—Ç —Ñ–∏—á–∏ (–ø–æ–≥–æ–¥–∞ + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å + –≤–µ—â—å + source + is_owned);
- –ø—Ä–æ–≥–æ–Ω—è–µ—Ç —á–µ—Ä–µ–∑ ML‚Äë–º–æ–¥–µ–ª—å (Gradient Boosting);
- —Å–æ–±–∏—Ä–∞–µ—Ç –ø–æ–ª–Ω—ã–π –æ–±—Ä–∞–∑ (outerwear + top + bottom + footwear + –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã);
- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–∫—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ –ë–î;
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ –∏ score.

### –ê–ª–≥–æ—Ä–∏—Ç–º—ã

- **Gradient Boosting Classifier** ‚Äì –æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç–∏ ¬´–ø–æ–¥–æ–π–¥—ë—Ç / –Ω–µ –ø–æ–¥–æ–π–¥—ë—Ç¬ª.
- **Rule‚Äëbased fallback** ‚Äì –µ—Å–ª–∏ –º–æ–¥–µ–ª—å —Å–ª–æ–º–∞–ª–∞—Å—å –∏–ª–∏ –Ω–µ –æ–±—É—á–µ–Ω–∞:
    - –ø–æ–¥–±–∏—Ä–∞–µ—Ç –≤–µ—â–∏ –ø–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–º—É –¥–∏–∞–ø–∞–∑–æ–Ω—É, —Ç–µ–ø–ª–æ—Ç–µ (`warmth_level`) –∏ –ø–æ–≥–æ–¥–µ.
- (–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª) RandomForest / –Ω–µ–π—Ä–æ—Å–µ—Ç—å ‚Äì —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏).

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (ML‚Äë—Å–µ—Ä–≤–∏—Å)

```text
POST /api/ml/recommend      # –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
POST /api/ml/train          # –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –ø–æ –ª–æ–≥–∞–º
GET  /health                # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è ML-—Å–µ—Ä–≤–∏—Å–∞
```

---

## üì± –ö–ª–∏–µ–Ω—Ç (Flutter) (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è / —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (email+password, –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è; Google Sign‚ÄëIn ‚Äì –¥–ª—è Web).
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥–µ –∏ –≥–æ—Ä–æ–¥—É.
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Å—Ç–∞–≤–∞ –∫–æ–º–ø–ª–µ–∫—Ç–∞ —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º:
    - "–ß—Ç–æ –∏–∑ —Ç–≤–æ–µ–≥–æ –≥–∞—Ä–¥–µ—Ä–æ–±–∞" (isOwned == true)
    - "–ß—Ç–æ —Å—Ç–æ–∏—Ç –¥–æ–∫—É–ø–∏—Ç—å" (isOwned == false –∏ source != 'kaggle_seed')
    - "–û–±—Ä–∞–∑—Ü–æ–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã" (source == 'kaggle_seed')
- –û—Ü–µ–Ω–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (–ª–∞–π–∫/–æ—Ü–µ–Ω–∫–∞) –∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ.
- –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ —Å—Ç–∏–ª—é, —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ö–æ–ª–æ–¥—É).
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è ¬´—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏¬ª –º–æ–¥–µ–ª–∏:
    - –ø—Ä–æ–≥—Ä–µ—Å—Å‚Äë–±–∞—Ä—ã, ¬´–∫–æ–ª—å—Ü–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏¬ª.

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

```dart
class ClothingItem {
  final int id;
  final String name;
  final String category;
  final String? subcategory;
  final String source;   // 'wardrobe', 'catalog', 'kaggle_seed'
  final bool isOwned;
  final double? minTemp;
  final double? maxTemp;
  final int warmthLevel;
  final int formalityLevel;
  final String iconEmoji;
  // ...
}
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

- Android (—ç–º—É–ª—è—Ç–æ—Ä –∏ —Ä–µ–∞–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
- iOS (—Å–∏–º—É–ª—è—Ç–æ—Ä –∏ —Ä–µ–∞–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
- Web (Chrome/Firefox/Safari/Edge)

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ—Å–Ω–æ–≤–Ω—ã–µ ENV –¥–ª—è dev)

```bash
# API
HOST=0.0.0.0
PORT=8080

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_HOST=postgres
DB_PORT=5432
DB_USER=Admin
DB_PASSWORD=password
DB_NAME=outfitstyle
DB_SSL_MODE=disable

# Redis
CACHE_ENABLED=true
REDIS_URL=redis://redis:6379
CACHE_EXPIRATION=300

# OpenWeatherMap
WEATHER_API_KEY=your_openweather_api_key
WEATHER_API_URL=https://api.openweathermap.org/data/2.5
WEATHER_API_TIMEOUT=10

# ML-—Å–µ—Ä–≤–∏—Å
ML_SERVICE_URL=http://ml-service:5000
ML_SERVICE_TIMEOUT=30

# JWT
JWT_SECRET=your-jwt-secret-key
```

---

## üìà –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (Go‚Äë—Å–µ—Ä–≤–µ—Ä + ML‚Äë—Å–µ—Ä–≤–∏—Å –ª–æ–≥–∏—Ä—É—é—Ç –∏—Ö).
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ / –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ.
3. ML‚Äë—Å–µ—Ä–≤–∏—Å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –ª–æ–≥–∏ (`recommendations + user_ratings`), —Å—Ç—Ä–æ–∏—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç.
4. –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è (`scripts/train_from_logs.py`) –ø–µ—Ä–µ–æ–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–π `.pkl`.
5. –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ ML‚Äë—Å–µ—Ä–≤–∏—Å –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å; –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–ª—É—á—à–∞–µ—Ç—Å—è.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ ML‚ÄëAPI

–ü—Ä–∏–º–µ—Ä—ã —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ ML‚Äë—Å–µ—Ä–≤–∏—Å–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
curl http://localhost:5000/health

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (—á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä)
curl "http://localhost:8080/api/v1/recommendations?city=Moscow&user_id=1"

# –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ ML-—Å–µ—Ä–≤–∏—Å–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–æ–π—Ç–∏ Go-—Å–µ—Ä–≤–µ—Ä)
curl -X POST http://localhost:5000/api/ml/recommend \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 1,
    "weather": {
      "location": "Moscow",
      "temperature": 5,
      "feels_like": 3,
      "weather": "–û–±–ª–∞—á–Ω–æ",
      "humidity": 70,
      "wind_speed": 5
    },
    "source": "mixed"
  }'
```

---

## üöÄ –ü—Ä–æ–¥–∞–∫—à–µ–Ω‚Äë–¥–µ–ø–ª–æ–π

–î–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –≥–∏–¥–∞ —Å–º. —Ñ–∞–π–ª
`docs/PRODUCTION_DEPLOYMENT.md`.

–ö—Ä–∞—Ç–∫–æ:

- –æ—Ç–¥–µ–ª—å–Ω—ã–π `docker-compose.prod.yml` / Kubernetes‚Äë–º–∞–Ω–∏—Ñ–µ—Å—Ç—ã;
- Nginx –∫–∞–∫ reverse‚Äëproxy –∏ SSL‚Äë—Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è;
- —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–¥‚Äë–æ–±—Ä–∞–∑–æ–≤:
    - `server/Dockerfile.prod`,
    - `ml-service/Dockerfile.prod`,
    - (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) client web build;
- –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî –≤ `infrastructure/docker-compose/.env.prod`.

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–±—Ä–∞–Ω–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docs/`:

- `docs/README.md` ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/architecture.md` ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- `docs/import_guide.md` ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–º–ø–æ—Ä—Ç—É –¥–∞–Ω–Ω—ã—Ö
- `docs/professional_architecture.md` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
- `docs/api/README.md` ‚Äî API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è